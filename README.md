# Инвертированный индекс с сжатием

# Подготовка

установить менеджер пакетов uv

запустить следующие команды для установки виртуального окружения и зависимостей

```bash
uv venv
uv sync
```

# Использование 

В файле .env содержатся переменные окружения, через них задаются путь к файлу базы данных, базовый путь к файлу индекса, метод кодирования для индекса.

Запуск осуществляется с помощью следующих команд:

Для индексирования csv файла с документами, можно запустить create_index файл с аргументами: путь к индексируемому файлу(--data_path, -dp), и логическим флагом необходимости создания базы данных на основе переданных данных, по умолчанию true(--no-create_db, --create_db)

```bash
uv run --env-file=.env create_index.py --no-create_db -dp crawled_messages.csv
```
Для поиска по сохраненному индексу, можно запустить search файл с аргументами: запросом(--query, -q), количество выводимых документов(--top, -t) по умолчанию 5, и логическим флагом необходимости вывода документов из базы данных по найденым в индексе айди(--no-documents, --documents) по умолчанию false

```bash
uv run --env-file=.env search.py -q 'спбгу' --documents
```

для запуска тестов 

```bash
uv run -m unittest test.py
```